{
  "name": "My workflow",
  "nodes": [
    {
      "parameters": {
        "rule": {
          "interval": [
            {
              "field": "minutes",
              "minutesInterval": 1
            }
          ]
        }
      },
      "type": "n8n-nodes-base.scheduleTrigger",
      "typeVersion": 1.2,
      "position": [
        0,
        0
      ],
      "id": "cd8193fb-3e00-4505-ad4b-a3011841702c",
      "name": "Schedule Trigger"
    },
    {
      "parameters": {
        "operation": "search",
        "base": {
          "__rl": true,
          "value": "appUqo0cjX8TfaBb1",
          "mode": "list",
          "cachedResultName": "AI Hackathon Project",
          "cachedResultUrl": "https://airtable.com/appUqo0cjX8TfaBb1"
        },
        "table": {
          "__rl": true,
          "value": "tbl9k2sQ9pY7fWRwy",
          "mode": "list",
          "cachedResultName": "Opportunities",
          "cachedResultUrl": "https://airtable.com/appUqo0cjX8TfaBb1/tbl9k2sQ9pY7fWRwy"
        },
        "filterByFormula": "{Status} = 'new'",
        "options": {
          "fields": []
        }
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        208,
        0
      ],
      "id": "b87690b2-e666-456e-96ce-32268ddc8558",
      "name": "Search records",
      "credentials": {
        "airtableTokenApi": {
          "id": "IU00YQ03PK61BXIA",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "promptType": "define",
        "text": "=You are a data extraction bot.\nYour task is to analyze the text provided below and extract four specific fields: 'title', 'company', 'deadline' (formatted as YYYY-MM-DD), and 'experience_level'.\n\nThe 'experience_level' must be one of these exact strings: \"Entry-Level\", \"Internship\", \"Hackathon / Event\", \"Senior\", or \"Not Specified\".\n\nYou MUST respond with ONLY the JSON object and no other text.\n\nHERE I{{ $json['Raw Text'] }}S THE TEXT:\n",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.agent",
      "typeVersion": 2.2,
      "position": [
        624,
        96
      ],
      "id": "8a8d21bf-887a-41cd-90c0-6ec6929fab14",
      "name": "AI Agent"
    },
    {
      "parameters": {
        "model": "openai/gpt-oss-120b",
        "options": {}
      },
      "type": "@n8n/n8n-nodes-langchain.lmChatGroq",
      "typeVersion": 1,
      "position": [
        544,
        304
      ],
      "id": "e9338118-4129-4a08-a09b-37f3dc10ddaa",
      "name": "Groq Chat Model",
      "credentials": {
        "groqApi": {
          "id": "s6KNfpAJ9PnsR2Hk",
          "name": "Groq account"
        }
      }
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "5428992a-2fd0-47cf-b15b-9a6ccf22897f",
              "name": "aiData",
              "value": "={{ JSON.parse($json.output) }}",
              "type": "object"
            }
          ]
        },
        "includeOtherFields": true,
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1184,
        96
      ],
      "id": "9fb94486-73e4-45bf-8c0c-b91cbdbb80ea",
      "name": "Edit Fields"
    },
    {
      "parameters": {
        "conditions": {
          "options": {
            "caseSensitive": true,
            "leftValue": "",
            "typeValidation": "strict",
            "version": 2
          },
          "conditions": [
            {
              "id": "ce2e1cb3-363b-47ff-968e-51fee3609903",
              "leftValue": "={{ $json.aiData.experience_level }}",
              "rightValue": "Senior",
              "operator": {
                "type": "string",
                "operation": "equals",
                "name": "filter.operator.equals"
              }
            }
          ],
          "combinator": "and"
        },
        "options": {}
      },
      "type": "n8n-nodes-base.if",
      "typeVersion": 2.2,
      "position": [
        1392,
        96
      ],
      "id": "155ab5ef-66ca-457e-9f78-33848d80e66c",
      "name": "If"
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appUqo0cjX8TfaBb1",
          "mode": "list",
          "cachedResultName": "AI Hackathon Project",
          "cachedResultUrl": "https://airtable.com/appUqo0cjX8TfaBb1"
        },
        "table": {
          "__rl": true,
          "value": "tbl9k2sQ9pY7fWRwy",
          "mode": "list",
          "cachedResultName": "Opportunities",
          "cachedResultUrl": "https://airtable.com/appUqo0cjX8TfaBb1/tbl9k2sQ9pY7fWRwy"
        },
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": {
            "id": "={{ $('Edit Fie$('Search records').item.json.idlds').item.json.record_id }}"
          },
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": false
            },
            {
              "id": "Raw Text",
              "displayName": "Raw Text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "new",
                  "value": "new"
                },
                {
                  "name": "Processed",
                  "value": "Processed"
                },
                {
                  "name": "Rejected (Senior)",
                  "value": "Rejected (Senior)"
                },
                {
                  "name": "",
                  "value": ""
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Opportunity Title",
              "displayName": "Opportunity Title",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "company/Org",
              "displayName": "company/Org",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Deadline",
              "displayName": "Deadline",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Urgency",
              "displayName": "Urgency",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Experience Level",
              "displayName": "Experience Level",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        2352,
        96
      ],
      "id": "810c850f-cdd5-4c7f-a501-47853d8bf23e",
      "name": "Update record",
      "credentials": {
        "airtableTokenApi": {
          "id": "IU00YQ03PK61BXIA",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {
        "mode": "combine",
        "combineBy": "combineByPosition",
        "options": {}
      },
      "type": "n8n-nodes-base.merge",
      "typeVersion": 3.2,
      "position": [
        1200,
        -448
      ],
      "id": "34e4cc37-9de6-4fea-8b10-4f3d2b48e302",
      "name": "Merge"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "b3e647d7-8efd-4084-9e5a-575c52ec3f95",
              "name": "id",
              "value": "={{ $json.id }}",
              "type": "string"
            },
            {
              "id": "6107fa41-9774-4b56-9561-b452a9a389eb",
              "name": "Status",
              "value": "Rejected (Senior)",
              "type": "string"
            },
            {
              "id": "8a25c4be-f478-4a20-a640-66921d9c11a5",
              "name": "Experience Level",
              "value": "={{ $json.aiData.experience_level }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        1904,
        96
      ],
      "id": "6e29bed5-2dcc-4ba2-9389-74a5fc360c2e",
      "name": "Edit Fields1"
    },
    {
      "parameters": {
        "mode": "runOnceForEachItem",
        "jsCode": "const item = $json;\nconst deadlineStr = item.aiData.deadline;\n\nif (!deadlineStr || deadlineStr === \"Not Specified\" || deadlineStr === null) {\n  item.urgency = \"No Deadline\";\n} else {\n  const deadline = new Date(deadlineStr);\n  const today = new Date();\n  deadline.setHours(0, 0, 0, 0);\n  today.setHours(0, 0, 0, 0);\n  const msPerDay = 1000 * 60 * 60 * 24;\n  const daysLeft = Math.round((deadline - today) / msPerDay);\n\n  if (daysLeft < 0) {\n    item.urgency = \"EXPIRED\";\n  } else if (daysLeft === 0) {\n    item.urgency = \"🔥 URGENT: Deadline is TODAY!\";\n  } else if (daysLeft <= 3) {\n    item.urgency = `⏰ Important: ${daysLeft} days left`;\n  } else if (daysLeft <= 7) {\n    item.urgency = `Soon: ${daysLeft} days left`;\n  } else {\n    item.urgency = \"Future Opportunity\";\n  }\n}\nreturn item;"
      },
      "type": "n8n-nodes-base.code",
      "typeVersion": 2,
      "position": [
        1904,
        416
      ],
      "id": "bd98db59-c47a-41a9-8ee7-b9abb1c6130f",
      "name": "Code in JavaScript"
    },
    {
      "parameters": {
        "assignments": {
          "assignments": [
            {
              "id": "b45aa976-a3d7-4a75-91d0-13a40ca0f371",
              "name": "id",
              "value": "={{ $json.id }}",
              "type": "string"
            },
            {
              "id": "f4f34d85-8aae-4ad1-8e9b-980fb0d51083",
              "name": "Status",
              "value": "Processed",
              "type": "string"
            },
            {
              "id": "cbb97deb-a21c-40fe-9824-90a16e1220ad",
              "name": "Experience Level",
              "value": "={{ $json.aiData.experience_level }}",
              "type": "string"
            },
            {
              "id": "bea0eb83-10b3-4c65-934d-58bce3f0bd26",
              "name": "Opportunity Title",
              "value": "={{ $json.aiData.title }}",
              "type": "string"
            },
            {
              "id": "065bb71f-1b4d-49f8-9289-38e7c83dd79d",
              "name": "company/Org",
              "value": "={{ $json.aiData.company }}",
              "type": "string"
            },
            {
              "id": "d4151372-c4f9-4de1-becb-a97989d2a270",
              "name": "Deadline",
              "value": "={{ $json.aiData.deadline }}",
              "type": "string"
            },
            {
              "id": "88ae497e-a630-424f-abdb-79f3963852b7",
              "name": "Urgency",
              "value": "={{ $json.urgency }}",
              "type": "string"
            }
          ]
        },
        "options": {}
      },
      "type": "n8n-nodes-base.set",
      "typeVersion": 3.4,
      "position": [
        2112,
        416
      ],
      "id": "24046e7d-9e65-4054-a1dc-ed2d5a54dcbb",
      "name": "Edit Fields2"
    },
    {
      "parameters": {
        "operation": "update",
        "base": {
          "__rl": true,
          "value": "appUqo0cjX8TfaBb1",
          "mode": "list",
          "cachedResultName": "AI Hackathon Project",
          "cachedResultUrl": "https://airtable.com/appUqo0cjX8TfaBb1"
        },
        "table": {
          "__rl": true,
          "value": "tbl9k2sQ9pY7fWRwy",
          "mode": "list",
          "cachedResultName": "Opportunities",
          "cachedResultUrl": "https://airtable.com/appUqo0cjX8TfaBb1/tbl9k2sQ9pY7fWRwy"
        },
        "columns": {
          "mappingMode": "autoMapInputData",
          "value": {},
          "matchingColumns": [
            "id"
          ],
          "schema": [
            {
              "id": "id",
              "displayName": "id",
              "required": false,
              "defaultMatch": true,
              "display": true,
              "type": "string",
              "readOnly": true,
              "removed": false
            },
            {
              "id": "Raw Text",
              "displayName": "Raw Text",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Status",
              "displayName": "Status",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "options",
              "options": [
                {
                  "name": "new",
                  "value": "new"
                },
                {
                  "name": "Processed",
                  "value": "Processed"
                },
                {
                  "name": "Rejected (Senior)",
                  "value": "Rejected (Senior)"
                },
                {
                  "name": "",
                  "value": ""
                }
              ],
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Opportunity Title",
              "displayName": "Opportunity Title",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "company/Org",
              "displayName": "company/Org",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Deadline",
              "displayName": "Deadline",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "dateTime",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Urgency",
              "displayName": "Urgency",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            },
            {
              "id": "Experience Level",
              "displayName": "Experience Level",
              "required": false,
              "defaultMatch": false,
              "canBeUsedToMatch": true,
              "display": true,
              "type": "string",
              "readOnly": false,
              "removed": false
            }
          ],
          "attemptToConvertTypes": false,
          "convertFieldsToString": false
        },
        "options": {}
      },
      "type": "n8n-nodes-base.airtable",
      "typeVersion": 2.1,
      "position": [
        2320,
        416
      ],
      "id": "489dbd3d-5d8e-47fa-9d04-a58a4900bdb3",
      "name": "Update record1",
      "credentials": {
        "airtableTokenApi": {
          "id": "IU00YQ03PK61BXIA",
          "name": "Airtable Personal Access Token account"
        }
      }
    },
    {
      "parameters": {},
      "type": "n8n-nodes-base.noOp",
      "typeVersion": 1,
      "position": [
        2752,
        288
      ],
      "id": "cd9655a1-2a86-4aab-84de-35e5982885b9",
      "name": "No Operation, do nothing"
    },
    {
      "parameters": {
        "from": "+14155238886",
        "to": "+919912796603",
        "toWhatsapp": true,
        "message": "alert",
        "options": {}
      },
      "type": "n8n-nodes-base.twilio",
      "typeVersion": 1,
      "position": [
        2960,
        288
      ],
      "id": "b070bdbc-79ae-4c1f-849f-586597def49c",
      "name": "Send an SMS/MMS/WhatsApp message",
      "credentials": {
        "twilioApi": {
          "id": "69SWSQWdGkstPjRm",
          "name": "Twilio account"
        }
      }
    }
  ],
  "pinData": {},
  "connections": {
    "Schedule Trigger": {
      "main": [
        [
          {
            "node": "Search records",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Search records": {
      "main": [
        [
          {
            "node": "AI Agent",
            "type": "main",
            "index": 0
          },
          {
            "node": "Merge",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "AI Agent": {
      "main": [
        [
          {
            "node": "Merge",
            "type": "main",
            "index": 1
          }
        ]
      ]
    },
    "Groq Chat Model": {
      "ai_languageModel": [
        [
          {
            "node": "AI Agent",
            "type": "ai_languageModel",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields": {
      "main": [
        [
          {
            "node": "If",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "If": {
      "main": [
        [
          {
            "node": "Edit Fields1",
            "type": "main",
            "index": 0
          }
        ],
        [
          {
            "node": "Code in JavaScript",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Merge": {
      "main": [
        [
          {
            "node": "Edit Fields",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields1": {
      "main": [
        [
          {
            "node": "Update record",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Code in JavaScript": {
      "main": [
        [
          {
            "node": "Edit Fields2",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Edit Fields2": {
      "main": [
        [
          {
            "node": "Update record1",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update record1": {
      "main": [
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "Update record": {
      "main": [
        [
          {
            "node": "No Operation, do nothing",
            "type": "main",
            "index": 0
          }
        ]
      ]
    },
    "No Operation, do nothing": {
      "main": [
        [
          {
            "node": "Send an SMS/MMS/WhatsApp message",
            "type": "main",
            "index": 0
          }
        ]
      ]
    }
  },
  "active": false,
  "settings": {
    "executionOrder": "v1"
  },
  "versionId": "f1f4e10e-7d64-4b0d-b186-35c7ebdeb721",
  "meta": {
    "templateCredsSetupCompleted": true,
    "instanceId": "33ff9fcf277b0a905524c075767678f70a9072133bc77324e6001bf40d84ebf8"
  },
  "id": "csC2X0qPQqCNWtB1",
  "tags": []
}